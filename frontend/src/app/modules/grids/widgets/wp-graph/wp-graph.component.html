<h3 class="widget-box--header"
    *ngIf="(query$ | async) as query"
    cdkDragHandle>
  <span class="grid--area-drag-handle
               icon
               icon-drag-handle"
        cdkDragHandle></span>
  <i class="icon-context icon-view-timeline" aria-hidden="true"></i>
  <editable-toolbar-title [title]="query.name"
                          [inFlight]="inFlight"
                          (onSave)="renameQuery(query, $event)"
                          [editable]="!!query.updateImmediately"
                          class="widget-box--header-title">
  </editable-toolbar-title>

  <widget-wp-graph-menu
      [resource]="resource">
  </widget-wp-graph-menu>
</h3>

<wp-embedded-graph [datasets]="datasets"
                   *ngIf="(query$ | async) as query">
</wp-embedded-graph>
