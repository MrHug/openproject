<h3 class="widget-box--header"
    *ngIf="(query$ | async) as query"
    cdkDragHandle>
  <span class="grid--area-drag-handle
               icon
               icon-drag-handle"
        cdkDragHandle></span>
  <i class="icon-context icon-view-timeline" aria-hidden="true"></i>
  <editable-toolbar-title [title]="query.name"
                          [inFlight]="inFlight"
                          (onSave)="renameQuery(query, $event)"
                          [editable]="!!query.updateImmediately"
                          class="widget-box--header-title">
  </editable-toolbar-title>

  <widget-menu
      [resource]="resource">
  </widget-menu>
</h3>

<ng-container wp-isolated-query-space>
  <wp-embedded-graph [datasets]="[{ queryId: queryId, queryProps: '', label: '' }]"
                     *ngIf="queryId">
  </wp-embedded-graph>
</ng-container>
